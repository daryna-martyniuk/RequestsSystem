<Application x:Class="Requests.UI.App"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:vm="clr-namespace:Requests.UI.ViewModels"
             xmlns:views="clr-namespace:Requests.UI.Views"
             xmlns:local="clr-namespace:Requests.UI">
    <Application.Resources>
        <ResourceDictionary>
            <!-- 1. КОЛЬОРИ (Визначаються першими) -->
            <SolidColorBrush x:Key="PrimaryBlue" Color="#3498DB"/>
            <SolidColorBrush x:Key="DarkBlue" Color="#2980B9"/>
            <SolidColorBrush x:Key="BackgroundLight" Color="#F4F7F6"/>
            <SolidColorBrush x:Key="CardBackground" Color="#FFFFFF"/>
            <SolidColorBrush x:Key="TextPrimary" Color="#2C3E50"/>
            <SolidColorBrush x:Key="TextSecondary" Color="#7F8C8D"/>
            <SolidColorBrush x:Key="SuccessGreen" Color="#27AE60"/>
            <SolidColorBrush x:Key="DangerRed" Color="#C0392B"/>
            <SolidColorBrush x:Key="WarningOrange" Color="#F39C12"/>
            <SolidColorBrush x:Key="PurpleInfo" Color="#8E44AD"/>
            <SolidColorBrush x:Key="BorderColor" Color="#BDC3C7"/>
            <SolidColorBrush x:Key="HeaderBackground" Color="#ECF5FB"/>
            <SolidColorBrush x:Key="TextWhite" Color="#FFFFFF"/>

            <!-- 2. ЕФЕКТИ -->
            <DropShadowEffect x:Key="CardShadow" BlurRadius="10" ShadowDepth="2" Direction="270" Color="#DDDDDD" Opacity="0.5"/>

            <!-- 3. КОНВЕРТЕРИ -->
            <BooleanToVisibilityConverter x:Key="BooleanToVisibilityConverter"/>

            <!-- 4. БАЗОВІ СТИЛІ (Кнопки, Текстбокси) -->

            <!-- Nav Button Style -->
            <Style x:Key="NavButtonStyle" TargetType="Button">
                <Setter Property="Background" Value="Transparent"/>
                <Setter Property="Foreground" Value="{StaticResource PrimaryBlue}"/>
                <Setter Property="FontSize" Value="15"/>
                <Setter Property="FontWeight" Value="SemiBold"/>
                <Setter Property="Padding" Value="20,10"/>
                <Setter Property="Height" Value="50"/>
                <Setter Property="BorderThickness" Value="0"/>
                <Setter Property="Cursor" Value="Hand"/>
                <Setter Property="Template">
                    <Setter.Value>
                        <ControlTemplate TargetType="Button">
                            <Border x:Name="border" Background="{TemplateBinding Background}" CornerRadius="5" Margin="5,0">
                                <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                            </Border>
                            <ControlTemplate.Triggers>
                                <Trigger Property="IsMouseOver" Value="True">
                                    <Setter TargetName="border" Property="Background" Value="{StaticResource PrimaryBlue}"/>
                                    <Setter Property="Foreground" Value="White"/>
                                </Trigger>
                            </ControlTemplate.Triggers>
                        </ControlTemplate>
                    </Setter.Value>
                </Setter>
            </Style>

            <!-- Action Button Style (Large) -->
            <Style x:Key="ActionBtnStyle" TargetType="Button">
                <Setter Property="Background" Value="{StaticResource PrimaryBlue}"/>
                <Setter Property="Padding" Value="15,8"/>
                <Setter Property="Foreground" Value="White"/>
                <Setter Property="BorderThickness" Value="0"/>
                <Setter Property="Cursor" Value="Hand"/>
                <Setter Property="FontWeight" Value="SemiBold"/>
                <Setter Property="Template">
                    <Setter.Value>
                        <ControlTemplate TargetType="Button">
                            <Border x:Name="border" Background="{TemplateBinding Background}" CornerRadius="5">
                                <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                            </Border>
                            <ControlTemplate.Triggers>
                                <Trigger Property="IsMouseOver" Value="True">
                                    <Setter TargetName="border" Property="Opacity" Value="0.9"/>
                                </Trigger>
                                <Trigger Property="IsEnabled" Value="False">
                                    <Setter TargetName="border" Property="Opacity" Value="0.5"/>
                                </Trigger>
                            </ControlTemplate.Triggers>
                        </ControlTemplate>
                    </Setter.Value>
                </Setter>
            </Style>

            <!-- Action Icon Button Style (Small) -->
            <Style x:Key="ActionIconBtnStyle" TargetType="Button">
                <Setter Property="Background" Value="{StaticResource PrimaryBlue}"/>
                <Setter Property="Width" Value="30"/>
                <Setter Property="Height" Value="30"/>
                <Setter Property="Margin" Value="2"/>
                <Setter Property="Foreground" Value="White"/>
                <Setter Property="BorderThickness" Value="0"/>
                <Setter Property="Cursor" Value="Hand"/>
                <Setter Property="Template">
                    <Setter.Value>
                        <ControlTemplate TargetType="Button">
                            <Border Background="{TemplateBinding Background}" CornerRadius="5" ToolTip="{TemplateBinding ToolTip}">
                                <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center" TextElement.FontSize="14"/>
                            </Border>
                        </ControlTemplate>
                    </Setter.Value>
                </Setter>
                <Style.Triggers>
                    <Trigger Property="IsMouseOver" Value="True">
                        <Setter Property="Opacity" Value="0.8"/>
                    </Trigger>
                </Style.Triggers>
            </Style>

            <!-- Modern TextBox Style -->
            <Style x:Key="ModernTextBox" TargetType="TextBox">
                <Setter Property="Padding" Value="10"/>
                <Setter Property="VerticalContentAlignment" Value="Center"/>
                <Setter Property="BorderThickness" Value="1"/>
                <Setter Property="BorderBrush" Value="#E0E0E0"/>
                <Setter Property="Background" Value="White"/>
                <Setter Property="Template">
                    <Setter.Value>
                        <ControlTemplate TargetType="TextBox">
                            <Border x:Name="border" CornerRadius="5" Background="{TemplateBinding Background}" BorderBrush="{TemplateBinding BorderBrush}" BorderThickness="{TemplateBinding BorderThickness}">
                                <ScrollViewer x:Name="PART_ContentHost"/>
                            </Border>
                            <ControlTemplate.Triggers>
                                <Trigger Property="IsFocused" Value="True">
                                    <Setter TargetName="border" Property="BorderBrush" Value="{StaticResource PrimaryBlue}"/>
                                </Trigger>
                            </ControlTemplate.Triggers>
                        </ControlTemplate>
                    </Setter.Value>
                </Setter>
            </Style>

            <!-- 5. СКЛАДНІ СТИЛІ (TabControl, DataGrid) -->

            <!-- Modern TabItem Style (ЗАПИТАНИЙ ВАМИ) -->
            <Style x:Key="ModernTabItemStyle" TargetType="TabItem">
                <Setter Property="Background" Value="Transparent"/>
                <Setter Property="Foreground" Value="{StaticResource TextSecondary}"/>
                <Setter Property="FontSize" Value="14"/>
                <Setter Property="FontWeight" Value="SemiBold"/>
                <Setter Property="Margin" Value="0,0,20,0"/>
                <Setter Property="Padding" Value="10,5"/>
                <Setter Property="Cursor" Value="Hand"/>
                <Setter Property="Template">
                    <Setter.Value>
                        <ControlTemplate TargetType="TabItem">
                            <Grid>
                                <Border x:Name="border" Background="Transparent" BorderBrush="Transparent" BorderThickness="0,0,0,2" Padding="{TemplateBinding Padding}">
                                    <ContentPresenter x:Name="ContentSite" VerticalAlignment="Center" HorizontalAlignment="Center" ContentSource="Header"/>
                                </Border>
                            </Grid>
                            <ControlTemplate.Triggers>
                                <Trigger Property="IsSelected" Value="True">
                                    <Setter TargetName="border" Property="BorderBrush" Value="{StaticResource PrimaryBlue}"/>
                                    <Setter Property="Foreground" Value="{StaticResource PrimaryBlue}"/>
                                </Trigger>
                                <Trigger Property="IsMouseOver" Value="True">
                                    <Setter Property="Foreground" Value="{StaticResource PrimaryBlue}"/>
                                </Trigger>
                            </ControlTemplate.Triggers>
                        </ControlTemplate>
                    </Setter.Value>
                </Setter>
            </Style>

            <!-- Default TabItem Style (Якщо не вказано x:Key) -->
            <Style TargetType="TabItem" BasedOn="{StaticResource ModernTabItemStyle}"/>

            <!-- DataGrid Style -->
            <Style TargetType="DataGrid">
                <Setter Property="Background" Value="White"/>
                <Setter Property="RowHeaderWidth" Value="0"/>
                <Setter Property="GridLinesVisibility" Value="Horizontal"/>
                <Setter Property="HorizontalGridLinesBrush" Value="#ECF0F1"/>
                <Setter Property="VerticalGridLinesBrush" Value="Transparent"/>
                <Setter Property="BorderThickness" Value="0"/>
                <Setter Property="AutoGenerateColumns" Value="False"/>
                <Setter Property="CanUserAddRows" Value="False"/>
                <Setter Property="IsReadOnly" Value="True"/>
                <Setter Property="Padding" Value="10"/>
                <Setter Property="RowHeight" Value="40"/>
                <Setter Property="ColumnHeaderHeight" Value="45"/>
                <Setter Property="AlternatingRowBackground" Value="#FAFAFA"/>
                <Setter Property="ColumnHeaderStyle">
                    <Setter.Value>
                        <Style TargetType="DataGridColumnHeader">
                            <Setter Property="Background" Value="White"/>
                            <Setter Property="Foreground" Value="{StaticResource TextSecondary}"/>
                            <Setter Property="FontWeight" Value="Bold"/>
                            <Setter Property="Padding" Value="10,0"/>
                            <Setter Property="HorizontalContentAlignment" Value="Left"/>
                            <Setter Property="BorderThickness" Value="0,0,0,2"/>
                            <Setter Property="BorderBrush" Value="#F0F2F5"/>
                        </Style>
                    </Setter.Value>
                </Setter>
                <Setter Property="CellStyle">
                    <Setter.Value>
                        <Style TargetType="DataGridCell">
                            <Setter Property="Padding" Value="10,0"/>
                            <Setter Property="BorderThickness" Value="0"/>
                            <Setter Property="VerticalContentAlignment" Value="Center"/>
                            <Setter Property="Template">
                                <Setter.Value>
                                    <ControlTemplate TargetType="DataGridCell">
                                        <Border Padding="{TemplateBinding Padding}" Background="{TemplateBinding Background}">
                                            <ContentPresenter VerticalAlignment="Center"/>
                                        </Border>
                                    </ControlTemplate>
                                </Setter.Value>
                            </Setter>
                            <Style.Triggers>
                                <Trigger Property="IsSelected" Value="True">
                                    <Setter Property="Background" Value="#EBF5FB"/>
                                    <Setter Property="Foreground" Value="Black"/>
                                </Trigger>
                            </Style.Triggers>
                        </Style>
                    </Setter.Value>
                </Setter>
            </Style>

            <!-- 6. DATA TEMPLATES (Визначаються останніми) -->
            <DataTemplate DataType="{x:Type vm:MyWorkspaceViewModel}">
                <views:MyWorkspaceView/>
            </DataTemplate>
            <DataTemplate DataType="{x:Type vm:AdminViewModel}">
                <views:AdminView/>
            </DataTemplate>
            <DataTemplate DataType="{x:Type vm:DepartmentStatsViewModel}">
                <views:DepartmentStatsView/>
            </DataTemplate>
            <DataTemplate DataType="{x:Type vm:GlobalStatsViewModel}">
                <views:GlobalStatsView/>
            </DataTemplate>
        </ResourceDictionary>
    </Application.Resources>
</Application>